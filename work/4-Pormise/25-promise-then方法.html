<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
  <script>
    // 创建promise对象
    const p = new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve('用户数据')
      }, 1000)
    })
    
    // then方法的返回值是一个promise对象，对象的返回状态和返回值由回调函数的结果决定
    const result = p.then(value => {
      // 1. 如果是非promise对象，返回的状态位fulfilled，返回值位回调函数返回值
      // return 123
      
      // 2. 如果返回的对象位Promise，返回的状态为Promise的返回状态，返回值为Promise的返回值
      // return new Promise((resolve, reject) => {
      //   resolve('ok')
      //   // reject('error')
      // })
      
      // 如果抛出异常，返回状态为rejected，返回值为报错的值
      throw new Error('啦啦啦')
    }, reason => {
      console.warn(reason)
    })
    
    console.log(result)
    
  </script>
</body>
</html>
